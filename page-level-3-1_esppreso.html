<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>page-level-3</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
        integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.0/css/all.min.css"
        integrity="sha512-10/jx2EXwxxWqCLX/hHth/vu2KY3jCF70dCQB8TSgNjbCVAC/8vai53GfMDrO2Emgwccf2pJqxct9ehpzG+MTw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Lobster&family=Noto+Serif+Display:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,600;1,700;1,800;1,900&family=Noto+Serif+TC:wght@200;300;400;500;600;700;900&family=Quicksand:wght@300;400;500;600;700&family=Redressed&family=Source+Sans+Pro:wght@200;300;400;600;700;900&family=Supermercado+One&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./page-level-3-1_esppreso.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>

<body>


    <!-- nav -->
    <div class="nav-wrap">
        <div class="nav">
            <div class="nav-show-logo">
            </div>
            <!-- 三 -->
            <div class="wrapper">
                <div class="circle icon">
                    <span class="line top"></span>
                    <span class="line middle"></span>
                    <span class="line bottom"></span>
                </div>
            </div>

            <div class="nav-box-wrap">
                <div class="nav-box">
                    <!-- <div class="container-left"> -->
                    <nav id="slider">

                        <!-- 目錄內容 -->
                        <h4>The Coffee</h4>
                        <p>Rise and Grind</p>
                        <ul class="list-unstyled">
                            <li>
                                <a href="./main-page.html">Homepage</a>
                            </li>
                            <li>
                                <a href="./page-level-2.html">Collections</a>
                            </li>
                            <li>
                                <a href="./page-level-3-1_esppreso.html">product</a>
                            </li>

                            <li>
                                <a href="https://www.facebook.com/oasis7968"><i
                                        class="icon-link fa-brands fa-facebook"></i></a>
                                <a href="https://www.instagram.com/coffee_space_2021/"><i
                                        class="icon-link fa-brands fa-instagram"></i></a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
    </div>


    <!-- section1 -->
    <div class="section1">
        <div class="container">
            <div class="row">
                <div class="product-wrap">
                    <div class="product">
                        <div class="product-img"></div>
                    </div>
                    <div class="product-info">
                        <p>
                            「義式咖啡（Espresso）」這個詞在義大利文中，代表「壓力之下」，義式咖啡機的發明其實很有趣，是一位急性子的咖啡工程師，因為他等不及喝一杯滴漏式的咖啡，便發明了利用「壓力」、「高溫」快速進行萃取的咖啡方法，沒想到這種方式就開始廣為流傳了！
                            
                        </p>
                        <p>「半自動咖啡機」一般不管是在咖啡店或是飲料店，都很常看見，它的設計原理是利用「鍋爐加熱」的方式加壓水，讓其達到 9 大氣壓力的萃取，這樣咖啡會被榨的乾乾淨淨。
                            許多因素會影響咖啡風味，播粉、填壓、萃取時間、萃取量...等等。
                        </p>
                        <p>全自動咖啡機簡化了了半自動的複雜技術，甚至將磨豆機、奶泡等裝置合為一體；由於「全自動咖啡機」真的就太簡單易用，不需要像半自動一樣有太多的操作眉角跟技術要求。</p>
                    </div>
                    <!--   h1   -->
                    <!-- <div class="h1-hidden"> -->
                    <div class="h1-wrap d-flex" id="h1-wrap">
                        <h1>義式咖啡
                        </h1>
                        <h2>
                            Esppreso
                        </h2>
                    </div>
                    <!-- </div> -->
                </div>
            </div>
        </div>
    </div>



    <!-- 輪播牆 -->
    <div class="train-wrap">
        <ul class="train d-flex list-unstyled">

            <li><img src="./imgs/1280_1600/adam-stefanca-8FNgM0nN76s-unsplash_0001_nathan-dumlao-Y3AqmbmtLQI-unsplash.jpg"
                    alt=""></li>
            <li><img src="./imgs/1280_1600/adam-stefanca-8FNgM0nN76s-unsplash_0004_nathan-dumlao-VMlO-arqpOs-unsplash.jpg"
                    alt=""></li>

            <li><img src="./imgs/1280_1600/adam-stefanca-8FNgM0nN76s-unsplash_0007_nathan-dumlao-So7cyDtlmls-unsplash.jpg"
                    alt=""></li>

            <li><img src="./imgs/1280_1600/adam-stefanca-8FNgM0nN76s-unsplash_0012_nathan-dumlao-2z3MOB3kfJU-unsplash.jpg"
                    alt=""></li>






        </ul>

        <ul class="slider-dots list-unstyled">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>

        <div class="pageRightBtn-area">
            <i class="fa-solid fa-chevron-right"></i>
        </div>
        <div class="pageLeftBtn-area">
            <i class="fa-solid fa-chevron-left"></i>
        </div>


    </div>


    <!-- footer -->
    <div class="footer-wrap">
        <!-- <div class="footer">
        </div> -->
        <div id="footer-logo">
            <img src="./logo/logo-white.png" alt="">
        </div>
    </div>


    <!-- scroll top -->
    <div class="top">
        <div class="container">
            <div class="row">
                <a href="#">
                    <div class="top-btn" id="top-btn">
                        Top
                    </div>
                </a>
            </div>
        </div>
    </div>








    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>
    <!-- <script src="../js/jquery-3.6.0.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js">
    </script>

    <script type="text/javascript">

        // nav icon  三 & X
        $('.wrapper').click(function () {
            $('.icon').toggleClass('close');
        })

        // 點擊nav icon，展開目錄
        $('.icon').on('click', function () {
            console.log('hi');
            $('.nav-box-wrap').toggleClass('active');
            $('.bars .icon').toggleClass('active')
                .css('transform', 'translateX(0px)');
        })

        // 點擊TOP 滾動到頂端
        $('#top-btn').click(function scrollTopAnimated() {
            console.log('upup');
            $("html, body").animate({ scrollTop: "0" }, 1000);
        })




        // 大標滑入並定位

        // 寫在外面變數只執行一次
        // const offset = $('nav').offset().top; 
        let navOffsetTop = $('#h1-wrap').offset().top;


        $(window).resize(function () {
            if ($('#h1-wrap').hasClass('fixed')) {
                // 移除fixed，回到原位，並重新計算TOP，再重新綁定fixed
                navOffsetTop = $('#h1-wrap').removeClass('fixed').offset().top;
                $('#h1-wrap').addClass('fixed');
            }
            else {
                navOffsetTop = $('#h1-wrap').removeClass('fixed').offset().top;
            }
        })


        $(window).scroll(function () {
            // console.log('window scroll:' ,$(window).scrollTop());
            // console.log('h1-wrap top:' ,$('#h1-wrap').offset().top);


            // console.log('navOffsetTop:' , navOffsetTop);

            // 寫在function裡會一直執行
            // const scroll = $(window).scrollTop(); 

            // 寫在function裡會一直執行(數值會等於scroll，黏住後無法復原)
            // const offset = $('nav').offset().top; 

            if ($(window).scrollTop() >= 10) {
                $('#h1-wrap').addClass('fixed');
            }
            else {
                $('#h1-wrap').removeClass('fixed');
            }
        })




        // 文字浮現效果 & 進度條
        $(window).scroll(function () {
            // scollTope
            console.log('scrollTop', $(this).scrollTop());
            console.log('windowHeight', $(this).height());
            console.log('BodyHeight', $('body').height());


            const scollTop = $(window).scrollTop();
            const windowHeight = $(window).height();
            const BodyHeight = $('body').height();


            //文字家變數寫法 `${}%`
            console.log('scollTop/Window height', `${scollTop / (BodyHeight - windowHeight) * 100}%`);
            $('.bar').css('width', `${scollTop / (BodyHeight - windowHeight) * 100}%`)

            if (scollTop > 300) {
                // $('body').css('background' , 'orange')
                $('.product-info p').css('transform', 'translateY(0)').css('opacity', '1');
            }
            else {
                // $('body').css('background' , 'transparent')
                $('.product-info p').css('transform', 'translateY(100px)').css('opacity', '0');
            }


            // nav變色-----------------------------------
            $(window).scroll(function () {
                console.log('scrolltop', $(window).scrollTop());

                let newscrollTop = $(window).scrollTop();

                // 新位置小於1000時 nav不會消失
                // if (newscrollTop <= 1000){
                //     $('nav').removeClass('hide');
                // }
                // 大於1000時啟動
                // else{
                // 做上下滾動時的效果 
                // 往下滾newscrollTop > lastScroll
                // && 代表"交集"需同時成立   "聯集":用"||"代表
                if (newscrollTop > 350 && newscrollTop > lastScroll) {
                    $('.nav-show-logo').addClass('show');
                    // $('.nav').removeClass('op-0');

                }
                // 往上滾 newscrollTop < lastScroll
                else {
                    $('.nav-show-logo').removeClass('show');
                    // $('.nav').addClass('op-0');

                }
                // 記錄最後位置 
                lastScroll = $(this).scrollTop();


            })


            // 輪播牆---------------------------------------------------------

            var page = 0;

            // 下方button
            $('.slider-dots li').mouseenter(function () {
                // console.log('hi', $(this).index());
                page = $(this).index();

                //引用function
                pageUpdate();
            })

            // 右button
            $('.pageRightBtn-area').click(function () {
                page++;
                pageUpdate();

                if (page >= 4) {

                    $('ul.train').one('trainsitionend', function () {
                        console.log('hi');
                    })
                    page = 0
                    pageUpdateWithoutTransition();
                }
            })

            // 左button
            $('.pageLeftBtn-area').click(function () {
                page--;
                console.log('page', page);

                if (page <= -1) {

                    page = 3
                }
                pageUpdate();
            })



            // 重複的程式碼，可以寫成一個function，方便重複引用
            function pageUpdate() {
                $('.slider-dots li').eq(page).css('background', '#fff')
                    .siblings().css('background', 'none');
                $('ul.train').css('transform', `translateX(${page * -600}px)`);
            }
            function pageUpdateWithoutTransition() {
                $('.slider-dots li').eq(page).css('background', '#fff')
                    .siblings().css('background', 'none');
                $('ul.train').css('transition', 'none').css('transform', `translateX(${page * -600}px)`);
            }
            // 自動輪播

            // setInterval(() => {
            //     page++;
            //     pageUpdate();
            //     if(page >= 9){

            //         $('.train').one('trainsitionend',function(){
            //             console.log('hi');
            //         })
            //         page = 0
            //         pageUpdateWithoutTransition();
            //     }

            //     console.log('PAGE',page);

            //     // 換圖速度
            // }, 1000);



            // function moveRight (){
            //         page++
            //         pageUpdate();
            //          if(page >= 5){

            //             $('.train').one('trainsitionend',function(){
            //             console.log('hi');
            //             page = 0
            //             pageUpdateWithoutTransition();
            //             })
            //         }
            //         console.log('page',page);
            //     }

            //     setInterval(moveRight,3000);


            // 無
            // let myInterval = null;




            // function setInterval(){
            //     myInterval = setInterval(moveRight, 3000);
            // }

            // setInterval();

            // $('.train').mouseenter(function(){
            //     clearInterval(myInterval)
            // })



        })


















    </script>
</body>

</html>